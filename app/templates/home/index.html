<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ATBI - Agri-Aqua Business Incubator</title>
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='images/agrilogo.png') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- ‚ú® ADDITIONAL DESIGN STYLING -->
  <style>
    /* Global font and reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: #333;
      background-color: #fff;
      line-height: 1.6;
    }

    /* ===== HEADER ===== */
    .header {
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: auto;
      padding: 10px 20px;
    }

    .logo-img {
      height: 55px;
    }

    .nav-list {
      display: flex;
      list-style: none;
      gap: 25px;
    }

    .nav-link {
      text-decoration: none;
      color: #333;
      font-weight: 600;
      transition: color 0.3s;
    }

    .nav-link:hover {
      color: #539782;
    }

    /* Login button stays consistent */
    .login-btn {
      border: 2px solid #539782;
      padding: 6px 14px;
      border-radius: 6px;
      transition: all 0.3s ease;
    }

    .login-btn:hover {
      background: #539782;
      color: white;
    }

    /* ===== CART BUTTON ===== */
    .cart-btn {
      position: relative;
      font-size: 20px;
      color: #333;
    }

    .cart-btn:hover {
      color: #539782;
    }

    .cart-count-badge {
      position: absolute;
      top: -8px;
      right: -10px;
      background: #539782;
      color: white;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 12px;
      font-weight: bold;
    }

    /* Replace üõí with üõçÔ∏è Font Awesome icon */
    #openCartBtn::before {
      content: "\f290";
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
      margin-right: 4px;
    }

    /* ===== HERO SECTION ===== */
    .hero {
      background-color: #539782;
      color: white;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      min-height: 100vh; /* fills screen */
      padding: 40px 20px;
    }

    .hero-title {
      font-size: 3rem;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .hero-subtitle {
      font-size: 1.2rem;
      margin-bottom: 30px;
    }

    .apply-btn {
      background-color: white;
      color: #539782;
      border: none;
      padding: 12px 28px;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
    }

    .apply-btn:hover {
      background-color: #3f7663;
      color: white;
    }

    /* ===== SHOP SECTION ===== */
    .shop {
      padding: 80px 20px;
      text-align: center;
      background: #f9f9f9;
    }

    .section-title {
      font-size: 2rem;
      margin-bottom: 40px;
      color: #333;
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      max-width: 1200px;
      margin: auto;
    }

    .product-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      overflow: hidden;
      transition: transform 0.3s ease;
    }

    .product-card:hover {
      transform: translateY(-5px);
    }

    .product-image img {
      width: 100%;
      height: 200px;
      object-fit: contain;
      background: #f7f7f7;
    }

    .product-info {
      padding: 15px;
    }

    .product-title {
      font-size: 1.1rem;
      color: #333;
      margin-bottom: 8px;
    }

    .product-price {
      font-weight: bold;
      color: #539782;
    }

    .add-to-cart {
      background: #539782;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      margin-top: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .add-to-cart:hover {
      background: #3f7663;
    }

    /* ===== ABOUT SECTION ===== */
    .about {
      background: #e7f0ed;
      padding: 80px 20px;
    }

    .about .container {
      max-width: 1000px;
      margin: auto;
    }

    .about-content p {
      margin-bottom: 18px;
      font-size: 1rem;
      color: #333;
    }

    /* ===== CONTACT SECTION ===== */
    #contacts {
      background: #f3f9f7;
      padding: 80px 20px;
      text-align: center;
    }

    #contacts h2 {
      font-size: 2rem;
      margin-bottom: 30px;
      color: #333;
    }

    .contact-info {
      max-width: 800px;
      margin: auto;
      font-size: 1rem;
      color: #555;
    }

    /* ===== CART MODAL ===== */
    .cart-modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .cart-modal-content {
      background: white;
      width: 90%;
      max-width: 500px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      overflow: hidden;
    }

    .cart-modal-content::before {
      content: "Your Cart üõçÔ∏è";
      display: block;
      background: #539782;
      color: white;
      text-align: center;
      padding: 15px;
      font-weight: 600;
      font-size: 1.2rem;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 768px) {
      .nav-list {
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
      }

      .hero-title {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1rem;
      }
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="header">
    <div class="header-container">
      <div class="logo">
        <img src="{{ url_for('static', filename='images/agrilogo.png') }}" alt="ATBI logo" class="logo-img">
      </div>
      <nav class="nav-menu">
        <ul class="nav-list">
          <li><a href="{{ url_for('home.index') }}" class="nav-link">HOME</a></li>
          <li><a href="{{ url_for('shop.shop_home') }}" class="nav-link">SHOP</a></li>
          <li><a href="{{ url_for('incubatee_showroom.incubatee_showroom') }}" class="nav-link">INCUBATES</a></li>
          <li><a href="#about" class="nav-link">ABOUT</a></li>
          <li><a href="#contacts" class="nav-link">CONTACTS</a></li>
          <li><a href="#" id="openCartBtn" class="nav-link cart-btn"><span id="cartCountBadge" class="cart-count-badge">0</span></a></li>
          <li><a href="{{ url_for('login.login') }}" class="nav-link login-btn">LOGIN</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO SECTION -->
  <section class="hero" id="home">
    <div class="hero-container">
      <h1 class="hero-title">Welcome to Agri-Aqua Mart</h1>
      <p class="hero-subtitle">Your Smart, Fresh, and Sustainable Goods</p>
      <button class="apply-btn">Apply as Incubate</button>
    </div>
  </section>

  <!-- SHOP SECTION -->
  <section class="shop" id="shop">
    <div class="container">
      <h2 class="section-title">Featured Agri-Aqua Products</h2>
      <div class="products-grid">
        <!-- Product cards remain unchanged -->
        {{!-- Your existing product cards here --}}
      </div>
    </div>
  </section>

  <!-- ABOUT SECTION -->
  <section id="about" class="about">
    <div class="container">
      <h2 class="section-title">About ATBI</h2>
      <div class="about-content">
        <p>
          The Agri-Aqua Technology Business Incubator (ATBI) is a platform dedicated to nurturing agribusiness and aquaculture startups.
          Our mission is to empower entrepreneurs by providing mentorship, technical support, and access to markets.
        </p>
        <p>
          ATBI aims to foster innovation and sustainability in agriculture and aquaculture, ensuring that local farmers and innovators
          can turn their ideas into viable businesses that promote food security and rural development.
        </p>
        <p>
          Partnering with universities and industry experts, ATBI continues to support incubation projects that create positive
          social and economic impact.
        </p>
      </div>
    </div>
  </section>

  <!-- CONTACT SECTION -->
  <section id="contacts">
    <h2>Contact ATBI</h2>
    <div class="contact-info">
      <p><strong>Email:</strong> info@atbi-agri.com</p>
      <p><strong>Phone:</strong> +63 912 345 6789</p>
      <p><strong>Address:</strong> Agri-Aqua Innovation Hub, BatStateU, Batangas City</p>
      <p>For inquiries or partnership opportunities, feel free to reach out ‚Äî we‚Äôre always happy to collaborate with future innovators.</p>
    </div>
  </section>

  <!-- üõçÔ∏è CART MODAL -->
  <div id="cartModal" class="cart-modal">
    <div class="cart-modal-content">
      <div id="cartContent"></div>
    </div>
  </div>

  <script>
    async function updateCartCountFromBackend() {
      try {
        const res = await fetch('/cart/count');
        const contentType = res.headers.get('content-type') || '';
        if (!contentType.includes('application/json')) return;

        const data = await res.json();
        if (data.success) {
          const count = data.count || 0;
          const badge = document.getElementById('cartCountBadge');
          if (badge) {
            badge.textContent = count;
            badge.style.display = count > 0 ? 'inline-block' : 'none';
          }
        }
      } catch (err) {
        console.error('Error fetching cart count:', err);
      }
    }

    updateCartCountFromBackend();
    setInterval(updateCartCountFromBackend, 15000);
  </script>

  <script src="{{ url_for('static', filename='js/cart.js') }}"></script>
</body>
</html>
